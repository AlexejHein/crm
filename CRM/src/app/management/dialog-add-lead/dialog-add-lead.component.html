<div class="dialog-container">
  <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
  <div mat-dialog-content>

    <h1 mat-dialog-title>Add Lead</h1>

<form [formGroup]="leadForm" (ngSubmit)="createLead()">
  <div>
    <mat-form-field appearance="outline" class="width-100">
      <mat-label>Created At</mat-label>
      <input matInput [matDatepicker]="picker1" formControlName="createdAt" placeholder="Created At">
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
      <mat-error *ngIf="leadForm.get('createdAt')?.errors?.['required']">
        Created At date is required.
      </mat-error>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="outline" class="width-100">
      <mat-label>Assigned To</mat-label>
      <mat-select formControlName="assignedTo">
        <mat-option *ngFor="let customer of allCustomers" [value]="customer.firstName + ' ' + customer.lastName">
          {{ customer.firstName }} {{ customer.lastName }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="leadForm.get('assignedTo')?.errors?.['required']">
        Assigned To is required.
      </mat-error>
    </mat-form-field>
  </div>
<div>
    <mat-form-field class="mr-16" appearance="outline">
      <mat-label>First Name</mat-label>
      <input matInput formControlName="firstName" placeholder="First Name">
      <mat-error *ngIf="leadForm?.get('firstName')?.errors?.['required']">First Name is required</mat-error>
      <mat-error *ngIf="leadForm?.get('firstName')?.errors?.['minlength']">First Name must be at least 2 characters long</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Last Name</mat-label>
      <input matInput formControlName="lastName" placeholder="Last Name">
      <mat-error *ngIf="leadForm?.get('lastName')?.errors?.['required']">Last Name is required</mat-error>
      <mat-error *ngIf="leadForm?.get('lastName')?.errors?.['minlength']">Last Name must be at least 2 characters long</mat-error>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field appearance="outline" class="width-100">
      <mat-label>E-Mail</mat-label>
      <input matInput formControlName="email" placeholder="email">
      <mat-error *ngIf="leadForm?.get('email')?.errors?.['required']">Not valid E-Mail</mat-error>
      <mat-error *ngIf="leadForm?.get('email')?.errors?.['email']">Not valid E-Mail</mat-error>
    </mat-form-field>
  </div>

    <div>
      <mat-form-field appearance="outline" class="width-100">
        <mat-label>Phone</mat-label>
        <input matInput formControlName="phoneNumber" placeholder="Phone">
        <mat-error *ngIf="leadForm?.get('phoneNumber')?.errors?.['required']">Phone is required</mat-error>
        <mat-error *ngIf="leadForm?.get('phoneNumber')?.errors?.['minlength']">Phone must be at least 2 characters long</mat-error>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field appearance="outline" class="width-100">
        <mat-label>Company Name</mat-label>
        <input matInput formControlName="companyName" placeholder="Company Name">
        <mat-error *ngIf="leadForm?.get('companyName')?.errors?.['required']">City is required</mat-error>
        <mat-error *ngIf="leadForm?.get('companyName')?.errors?.['minlength']">City must be at least 2 characters long</mat-error>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field appearance="outline" class="width-100">
        <mat-label>Comment</mat-label>
        <input matInput formControlName="comments" placeholder="Info">
        <mat-error *ngIf="leadForm?.get('comments')?.errors?.['required']">City is required</mat-error>
        <mat-error *ngIf="leadForm?.get('comments')?.errors?.['minlength']">City must be at least 2 characters long</mat-error>
      </mat-form-field>
    </div>

    <div mat-dialog-actions>
      <button [disabled]="loading" mat-button (click)="dialogRef.close()" type="button">Cancel</button>
      <button [disabled]="loading || !leadForm.valid" mat-button >Save</button>

    </div>
</form>
  </div>

</div>

